document.addEventListener("DOMContentLoaded",(function(event){document.querySelector("#navmainpage").style.display="none";var navMenu=document.querySelector("#navmainpage");document.querySelector("#search-help").style.display="none";var searchToggle=document.querySelector("#search-toggle");searchToggle.addEventListener("click",searchHelpToggler);var searchHelper=0,menuButton;document.querySelector(".hiddenmenu").addEventListener("click",menuToggle);var helpButton=document.querySelector("button#help");helpButton.addEventListener("click",helpMenuToggler);var persButton=document.querySelector("button#pers");persButton.addEventListener("click",persButtonToggler);var addButton=document.querySelector("button#add");addButton.addEventListener("click",addButtonToggler);var placeButton=document.querySelector("button#places");placeButton.addEventListener("click",placeButtonToggler);var pencilButton=document.querySelector("button#pencils");pencilButton.addEventListener("click",pencilButtonToggler);var gapsButton=document.querySelector("button#gaps");gapsButton.addEventListener("click",gapsButtonToggler);var notesButton=document.querySelector("button#notes");function menuToggle(){let url=window.location.pathname,currentState;if("none"===document.querySelector("#navmainpage").style.display){navMenu.style.display="block";let currentPosition=document.querySelector("#navmainpage").querySelector('a[href=".'+url+'"]');currentPosition.innerHTML="<span class='navarrow'>â†’</span>"+currentPosition.innerHTML}else navMenu.style.display="none"}function helpMenuToggler(){let theHelpBox=document.querySelector("div#helpbox"),theHelpBoxStyle;"block"!=document.querySelector("div#helpbox").style.display?(theHelpBox.style.display="block",theHelpBox.classList.add("helpactive"),helpButton.classList.add("red")):(theHelpBox.style.display="none",theHelpBox.classList.remove("helpactive"),helpButton.classList.remove("red"))}function persButtonToggler(){var persCount=document.getElementsByClassName("personHighlight").length,persons=document.getElementsByTagName("persname");if(0===persCount)for(var i=0;i<persons.length;i++)persButton.classList.add("red"),persons[i].classList.add("active"),persons[i].parentElement.closest("td").setAttribute("class","personHighlight");else for(var i=0;i<persons.length;i++)persButton.classList.remove("red"),persons[i].classList.remove("active"),persons[i].parentElement.closest("td").classList.remove("personHighlight")}function addButtonToggler(){var addCount=document.getElementsByClassName("addHighlight").length,adds=document.querySelectorAll('add:not([rend="pencil"])');if(0===addCount)for(var i=0;i<adds.length;i++)addButton.classList.add("red"),adds[i].classList.add("active"),adds[i].parentElement.closest("td").setAttribute("class","addHighlight");else for(var i=0;i<adds.length;i++)addButton.classList.remove("red"),adds[i].classList.remove("active"),adds[i].parentElement.closest("td").classList.remove("addHighlight")}function placeButtonToggler(){var placeCount=document.getElementsByClassName("redHighlight").length,places=document.getElementsByTagName("add");if(0===placeCount)for(var i=0;i<places.length;i++)placeButton.classList.add("red"),places[i].classList.add("active"),places[i].parentElement.closest("td").setAttribute("class","redHighlight");else for(var i=0;i<places.length;i++)placeButton.classList.remove("red"),places[i].classList.remove("active"),places[i].parentElement.closest("td").classList.remove("redHighlight")}function pencilButtonToggler(){var pencilCount=document.getElementsByClassName("pencilHighlight").length,pencils=document.querySelectorAll("add[rend='pencil']");if(0===pencilCount)for(var i=0;i<pencils.length;i++)pencilButton.classList.add("red"),pencils[i].classList.add("active"),pencils[i].parentElement.closest("td").setAttribute("class","pencilHighlight");else for(var i=0;i<pencils.length;i++)pencilButton.classList.remove("red"),pencils[i].classList.remove("active"),pencils[i].parentElement.closest("td").classList.remove("pencilHighlight")}function gapsButtonToggler(){var gapsCount=document.querySelectorAll("gap[class='hidden']").length,gaps=document.querySelectorAll("gap");if(0===gapsCount)for(var i=0;i<gaps.length;i++)gapsButton.classList.remove("red"),gaps[i].classList.add("hidden");else for(var i=0;i<gaps.length;i++)gapsButton.classList.add("red"),gaps[i].classList.remove("hidden")}function notesButtonToggler(){notesButton.classList.toggle("red"),allNotes=document.querySelectorAll("note");for(var i=0;i<allNotes.length;i++)allNotes[i].classList.toggle("hidden"),allNotes[i].classList.toggle("active")}function searchHelpToggler(){let searchHelpStyle=document.querySelector("#search-help").style.display,searchHelp=document.querySelector("#search-help");"block"!=searchHelpStyle?(searchHelper=1,searchHelp.style.display="block",searchToggle.textContent="hide help"):(searchHelper=0,searchHelp.style.display="none",searchToggle.textContent="show help")}notesButton.addEventListener("click",notesButtonToggler),window.addEventListener("scroll",(function(){var header;document.querySelector("#search-menu").classList.toggle("sticky",window.scrollY>0)})),theLB=document.querySelectorAll("lb");for(var i=0;i<theLB.length;i++){let new_node=document.createElement("br");theLB[i].parentNode.insertBefore(new_node,theLB[i].nextSibling)}theUnclear=document.getElementsByTagName("unclear");for(var i=0;i<theUnclear.length;i++){let new_node=document.createElement("span");theUnclear[i].parentNode.insertBefore(new_node,theUnclear[i].nextSibling),theUnclear[i].textContent=" "+theUnclear[i].textContent}theGaps=document.querySelectorAll("gap");for(var i=0;i<theGaps.length;i++){var extent=theGaps[i].getAttribute("extent"),reason=theGaps[i].getAttribute("reason"),result="";null!=extent&&(result+="Extent: "+extent+" |"),null!=reason&&(result+=" Reason: "+reason+"  ");var str1,str2,link='<span style="border-bottom:1px dotted; "title="'.concat(result,'" ><span>[gap]</span> ');theGaps[i].innerHTML=link}for(var people=document.querySelectorAll("persname"),i=0;i<people.length;i++){let title=people[i].getAttribute("ref");void 0!==people[i]&&(null!=title&&people[i].setAttribute("title",title),people[i].classList.add("person-title"))}for(var places=document.querySelectorAll("placename"),i=0;i<places.length;i++){let title=places[i].getAttribute("ref");void 0!==places[i]&&(null!=title&&places[i].setAttribute("title",title),places[i].classList.add("place-title"))}for(var thePlaceNotes=document.querySelectorAll('note:not([type="editorial"])'),i=0;i<thePlaceNotes.length;i++){let place=thePlaceNotes[i].getAttribute("place"),content=thePlaceNotes[i].textContent,result="";null!=place&&(result+="Location: "+place+" |"),null!=content&&(result+=" Content: "+content+"  ");let str1,str2,placeNote='<span style="border-bottom:1px dotted; "title="'.concat(result,'" ><span>[note]</span> ');thePlaceNotes[i].innerHTML=placeNote,thePlaceNotes[i].classList.add("hidden")}for(var theEdNotes=document.querySelectorAll('note[type="editorial"]'),i=0;i<theEdNotes.length;i++){let ednote=theEdNotes[i].textContent,result="";null!=ednote&&(result+="Note: "+ednote+" ");let str1,str2,theEdNote='<span style="border-bottom:1px dotted; "title="'.concat(result,'" ><span>[note]</span> ');theEdNotes[i].innerHTML=theEdNote,theEdNotes[i].classList.add("hidden")}}));